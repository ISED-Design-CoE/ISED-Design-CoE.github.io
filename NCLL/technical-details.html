<!DOCTYPE html>
<!--[if lt IE 9]><html class="no-js lt-ie9" lang="en" dir="ltr"><![endif]-->
<!--[if gt IE 8]><!--><html class="no-js" lang="en" dir="ltr"><!--<![endif]-->
	<head>
<!-- Based on CDTS 4.1.0 (https://cenw-wscoe.github.io/sgdc-cdts/docs/index-en.html) with DECoE customizations added (look for "DECoE customization" in comments) -->
	 <meta charset="utf-8">

<!-- Start DECoE customization -->
		<title>
			Technical details - NCLL portal - Spectrum licensing services - Innovation, Science and Economic Development Canada
		</title>
<!-- End DECoE customization -->

		<meta content="width=device-width,initial-scale=1" name="viewport">
		<script src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_1_0/cdts/compiled/soyutils.js"></script>
		<script src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_1_0/cdts/compiled/wet-en.js"></script>
		<noscript>
			<!-- Write closure fall-back static file -->
			<!-- refTop.html -->
		</noscript>
		<!-- Write closure template -->
		<script>
			document.write(wet.builder.refTop({
				"cdnEnv": "esdcprod"
			}));
		</script>

<!-- Start DECoE customization -->
	<style>
		/* Styles for all mockups */
			.notesaboutmockup {
				color: #333;
				background: #FFD;
				padding: 0 1em;
				border-color: #FC6;
				border-width: 2px;
				border-style: solid;
				margin-top: 3em;
			}
			.notesaboutmockup h2 {
				font-size: inherit;
				margin-top: 1em;
			}
		/* Styles for this mockup */
			#superhead {
				font-size: 1.7em;
				font-weight: bold;
			}
			#status {
				border-left: 3px solid #999;
				padding-left: 2px;
				background-color: #EEE;
			}
			ul.nav-wizard li {
				font-size: inherit;
			}
	</style>
	<link href="fix-wet-styles.css" rel="stylesheet" type="text/css">
	<link href="ncll-portal.css" rel="stylesheet" type="text/css">
	<link href="https://sms-sgs.ic.gc.ca/static/css/wizard.css" rel="stylesheet" type="text/css">
<!-- End DECoE customization -->

	</head>
	<body vocab="http://schema.org/" typeof="WebPage">
		<div id="def-top">
			<!-- Write closure fall-back static file -->
			<!-- transactTop-en.html -->
		</div>
		<!-- Write closure template -->
		<script>
			var defTop = document.getElementById("def-top");
			defTop.outerHTML = wet.builder.top({
				"cdnEnv": "esdcprod",
				"lngLinks": [{
					"lang": "fr",
					"href": "transactional-fr.shtml",
					"text": "Fran√ßais"
				}],
				"search": false,
				"siteMenu": false,
				"breadcrumbs": [{
					"title": "SMS",
					"href": "index.html"
				},
				{
					"title": "NCLL portal",
					"href": "dashboard.html"
				}],
				"showPreContent": false
			});
		</script>
		<main property="mainContentOfPage" typeof="WebPageElement" class="container">

<!-- Start page content -->

	<div id="superhead">
		<p>Non-competitive local licence application (<span class="app-number">01000139-001</span>) <span class="pull-right" id="status">Draft</span></p>
	</div>
	<div class="form-group">
		<ul class="nav nav-wizard">
			<li><a class="navbar-item" href="contact.html">Contact information</a></li>
			<li><a class="navbar-item" href="general.html">General information</a></li>
			<li class="active" aria-current="step">Technical details</li>
			<li>Licence area</li>
			<li>Frequency</li>
			<li>Review</li>
		</ul>
	</div>

	<h1 property="name" id="wb-cont">Technical details</h1>

	<div class="wb-frmvld">
		<form action="licence-area.html" method="get">

			<fieldset class="gc-chckbxrdio">
				<legend class="required">
					<span class="field-name">
						Bandwidth
					</span>
					<strong class="required small" aria-hidden="true">(required)</strong>
				</legend>
				<ul class="list-unstyled lst-spcd-2">
					<li class="radio">
						<input type="radio" id="tenMHz" name="bandwidth" value="10" data-rule-required="true">
						<label for="tenMHz">10 MHz</label>
					</li>
					<li class="radio">
						<input type="radio" id="twentyMHz" name="bandwidth" value="20">
						<label for="twentyMHz">20 MHz contiguous</label>
					</li>
				</ul>
			</fieldset>

			<fieldset class="gc-chckbxrdio">
				<legend class="required">
					<span class="field-name">
						Antenna location
					</span>
					<strong class="required small" aria-hidden="true">(required)</strong>
				</legend>
				<details>
					<summary>More information.</summary>
					<p>If you hold an indoor-only licence, you only need to serve at least one building within your licence area, rather than the whole licence area.</p>
					<p>However, indoor-only licences must be low power, which means they can be at most 15 km<sup>2</sup> in area.</p>
					<p>If you hold an outdoor-and-indoor licence, you do not need to have indoor transmitters, but you must have at least one outdoor transmitter and you must serve your entire licence area.</p>
				</details>
				<ul class="list-unstyled lst-spcd-2">
					<li class="radio">
						<input type="radio" id="indoor-only" name="antenna" value="Indoor only">
						<label for="indoor-only">Indoor only</label>
						<div id="medium-power-message" class="alert alert-info" hidden>
							<p>Medium power licences cannot be indoor-only.</p>
						</div>
					</li>
					<li class="radio">
						<input type="radio" id="outdoor-indoor" name="antenna" value="Outdoor and indoor" data-rule-required="true">
						<label for="outdoor-indoor">Outdoor and indoor</label>
					</li>
				</ul>
			</fieldset>

			<fieldset class="gc-chckbxrdio">
				<legend class="required">
					<span class="field-name">
						Licence type
					</span>
					<strong class="required small" aria-hidden="true">(required)</strong>
				</legend>
				<details>
					<summary>More information.</summary>
					<p>Low-power licences can be acquired in licence areas of any area type, for any scope of service, and for area sizes up to 15 km<sup>2</sup> in area.</p>
					<p>Medium-power licences can only be acquired in rural or remote areas, for outdoor-and-indoor licences, and for area sizes between 75 and 165 km<sup>2</sup>.</p>
				</details>
				<ul class="list-unstyled lst-spcd-2">
					<li class="radio">
						<input type="radio" id="low-power" name="power-level" value="Low power" data-rule-required="true">
						<label for="low-power">Low power</label>
					</li>
					<li class="radio">
						<input type="radio" id="medium-power" name="power-level" value="Medium power">
						<label for="medium-power">Medium power</label>
						<div id="indoor-only-message" class="alert alert-info" hidden>
							<p>Indoor-only licences cannot be medium power.</p>
						</div>
				</li>
				</ul>
			</fieldset>

		</div>
		<section id="save-div" class="alert alert-success" hidden>
			<p>Application saved as draft</p>
		</section>
		<button class="btn btn-primary" type="submit">Next</button>
		<button class="btn btn-secondary" type="button" id="save-button">Save</button>
		<br>
		<button class="btn btn-secondary" type="button" onclick="window.location.href = 'general.html'+ window.location.search">Back</button>

		<div class="notesaboutmockup">
			<h2>Notes about this mockup:</h2>
			<ul>
				<li>TODO: remove back button?</li>
			</ul>
		</div>
		</form>
		<script>
			const saveButton = document.getElementById ( "save-button" )
			const saveDiv = document.getElementById ( "save-div" )
			saveButton .addEventListener ( "click", ( event ) => {
				saveDiv .removeAttribute ( "hidden" )
			})
		</script>
		<script src="catch-and-throw.js"></script>
		<script>
			// Validate the interaction between the Scope of service and Power level fields
			const indoorOnlyField = document.getElementById ( "indoor-only" )
			const outdoorIndoorField = document.getElementById ( "outdoor-indoor" )

			// const lowPowerField = document.getElementById ( "low-power" )
			const lowPowerField = document.getElementById ( "low-power" )
			const mediumPowerField = document.getElementById ( "medium-power" )

			const indoorOnlyMessage = document.getElementById ( "indoor-only-message" )
			const mediumPowerMessage = document.getElementById ( "medium-power-message" )

			indoorOnlyField .addEventListener ( "click", ( event ) => {
				indoorOnlyMessage .removeAttribute ( "hidden" )
				mediumPowerField .disabled = true
			})

			outdoorIndoorField .addEventListener ( "click", ( event ) => {
				indoorOnlyMessage .setAttribute ( "hidden", "hidden" )
				mediumPowerField .disabled = false
			})

			lowPowerField .addEventListener ( "click", ( event ) => {
				mediumPowerMessage .setAttribute ( "hidden", "hidden" )
				indoorOnlyField .disabled = false
			})

			mediumPowerField .addEventListener ( "click", ( event ) => {
				mediumPowerMessage .removeAttribute ( "hidden" )
				indoorOnlyField .disabled = true
			})

			for ( const [ key, value ] of urlParams ) {
				if (key == 'antenna') {
					if (value == 'Outdoor and indoor') {
						indoorOnlyMessage .setAttribute ( "hidden", "hidden" )
						mediumPowerField .disabled = false
					}
					if (value == 'Indoor only') {
						indoorOnlyMessage .removeAttribute ( "hidden" )
						mediumPowerField .disabled = true
					}
				}
				if (key == 'power-level') {
					if (value == 'Low power') {
						mediumPowerMessage .setAttribute ( "hidden", "hidden" )
						indoorOnlyField .disabled = false
					}
					if (value == 'Medium power') {
						mediumPowerMessage .removeAttribute ( "hidden" )
						indoorOnlyField .disabled = true
					}
				}
			}
		</script>
	</div>
	<div id="change-licensee">
		<div class="container">
			<div class="row">
				<div class="col-xs-offset-8 col-xs-4">
					<details>
						<summary>The Best Company</summary>
						<p><a href="select-licensee.html">Switch licensee account</a></p>
						<p class="border-top"><a href="login.html"><span class="glyphicon-log-out glyphicon"></span> Sign out</a></p>
					</details>
				</div>
			</div>
		</div>
	</div>
	<script>
		// Move #change-licensee to top of screen
		// We want it to be immediately under the dark horizontal line, but that line is added by WET so we can't access it until after WET does its thing
		// This does lead to z-index issues: the "Log out" button can't currently be reached because it's behind the <main> element
		const changeLicensee = document .getElementById ( "change-licensee" )
		const wbBc = document .getElementById ( "wb-bc" )
		wbBc .prepend ( changeLicensee )
	</script>
	<script>
		// Read application number from parameters if present
		if ( urlParams .has ( "app-number" ) ) {
			const appNumberText = urlParams .get ( "app-number" )
			for ( let elem of document .getElementsByClassName ( "app-number" ) ) {
				elem .innerText = appNumberText
			}
		}
	</script>
<!-- End page content -->

			<div id="def-preFooter">
				<!-- Write closure fall-back static file -->
				<!-- preFooter-en.html -->
			</div>
			<!-- Write closure template -->
			<script>
				var defPreFooter = document.getElementById("def-preFooter");
				defPreFooter.outerHTML = wet.builder.preFooter({
					"cdnEnv": "esdcprod",
					"versionIdentifier": "CD56",
					"showPostContent": false,
					"showFeedback": false,
					"showShare": false
				});
			</script>
		</main>
		<div id="def-footer">
			<!-- Write closure fall-back static file -->
			<!-- transactFooter-en.html -->
		</div>
		<!-- Write closure template -->
		<script>
			var defFooter = document.getElementById("def-footer");
			defFooter.outerHTML = wet.builder.footer({
				"cdnEnv": "esdcprod",
				"showFooter": false,
				"showFeatures": false,
				"termsLink": [{
        			"newWindow": true
				}],
				"privacyLink": [{
					"newWindow": true
				}],
				"contextualFooter":{
					"title": "Spectrum and Telecommunications Sector",
					"links": [{
						"text": "Contact us",
						"href":"https://ised-isde.canada.ca/site/spectrum-management-telecommunications/en/licences-and-certificates/radiocom-information-circulars-ric/ric-66-addresses-and-telephone-numbers-district-offices",
						"newWindow": true
					}]
				}
			});
		</script>
		<!-- Write closure template -->
		<script>
			document.write(wet.builder.refFooter({
				"cdnEnv": "esdcprod"
			}));
		</script>
		<script src="queries-in-navbar.js"></script>
	</body>
</html>
