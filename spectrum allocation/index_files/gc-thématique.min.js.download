/*!
 * @title Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * v18.1.2 - 2026-01-21
 *
 */
async function aiAnswersAvailabilityCheck(){let e=document.querySelectorAll(".aia-banner, .aia-rescue");var a=()=>e.forEach(e=>e.remove());try{var n,t=await fetch("https://ai-answers.alpha.canada.ca/api/chat/chat-session-availability");t?.ok?(n=await t.json())?.siteStatus&&n?.sessionAvailable||a():a()}catch{a()}}(()=>{let n=document.querySelector(".ai-answers-trigger");if(n){var a="fr"===document.documentElement.lang?"fr":"en",t=document.querySelector(".pagedetails > h2"),e="true"===sessionStorage.getItem("aiaClosed"),i=(e,a)=>{e=n.getAttribute(e);return null!==e?e.replaceAll("&lt;","<").replaceAll("&gt;",">"):a},s={ALLOWED_TAGS:["section","div","p","a","img","h2","h3","button","strong"],ALLOWED_ATTR:["class","href","src","alt","type","aria-label","referrerpolicy","data-gc-analytics-customclick"]},a={fr:{defaultTitle:"<strong>Besoin d'aide?</strong>",defaultLinkText:"Essayez une version bêta de Réponses IA",mainClickLabel:"ESDC-EDSC:Réponses IA:Bannière en bas",rescueClickLabel:"ESDC-EDSC:Réponses IA:Lien contenu",aiAnswersURL:"https://reponses-ia.alpha.canada.ca",hiddenBannerTitle:"Bannière Réponses IA",hiddenRescueTitle:"Réponses IA",closeLabel:"Fermer la bannière de Réponses IA"},en:{defaultTitle:"<strong>Need help?</strong>",defaultLinkText:"Try a beta test of AI Answers",mainClickLabel:"ESDC-EDSC:AI Answers:Banner Bottom Link Click",rescueClickLabel:"ESDC-EDSC:AI Answers:Content Link Click",aiAnswersURL:"https://ai-answers.alpha.canada.ca",hiddenBannerTitle:"AI answers banner",hiddenRescueTitle:"AI answers",closeLabel:"Close AI answers banner"}}[a],i={...a,bannerTitle:i("data-banner-title",a.defaultTitle),bannerLinkText:i("data-banner-link-text",a.defaultLinkText),rescueTitle:i("data-rescue-title",a.defaultTitle),rescueLinkText:i("data-rescue-link-text",a.defaultLinkText)},a={main:`
			<section class="aia-banner">
				<h2 class="wb-inv">${i.hiddenBannerTitle}</h2>
				<div class="container">
					<div class="d-flex align-items-center">
						<img src="https://canada.ca/content/dam/canada/ai-stars.png" alt="">
						<p>${i.bannerTitle} <a href="${i.aiAnswersURL}" referrerpolicy="unsafe-url" data-gc-analytics-customclick="${i.mainClickLabel}">${i.bannerLinkText}</a></p>
					</div>
				</div>
				<button class="aia-close" type="button" aria-label="${i.closeLabel}">×</button>
			</section>
		`,rescue:`
			<section class="aia-rescue">
				<h3 class="wb-inv">${i.hiddenRescueTitle}</h3>
				<div class="d-flex align-items-center">
					<img src="https://canada.ca/content/dam/canada/ai-stars-blue.png" alt="">
					<p>${i.rescueTitle} <a href="${i.aiAnswersURL}" referrerpolicy="unsafe-url" data-gc-analytics-customclick="${i.rescueClickLabel}">${i.rescueLinkText}</a></p>
				</div>
			</section>
		`};if(t.insertAdjacentHTML("afterend",DOMPurify.sanitize(a.rescue,s)),!e){t.insertAdjacentHTML("afterend",DOMPurify.sanitize(a.main,s)),document.body.classList.add("aia-banner-visible");let e=document.querySelector(".aia-close");e.addEventListener("click",()=>{e.parentElement.remove(),document.body.classList.remove("aia-banner-visible"),sessionStorage.setItem("aiaClosed","true")})}aiAnswersAvailabilityCheck()}})(),((n,t)=>{var i,e=t.doc,s="gc-empathy",r=".provisional."+s;e.on("timerpoke.wb wb-init .provisional.gc-empathy",r,function(e){var a=t.init(e,s,r);a&&e.currentTarget===e.target&&(e=n(a),(i=n(".quiz-content"))&&(i.clone().addClass("hidden-md hidden-lg").insertBefore(" .services-and-information "),i.addClass("hidden-xs hidden-sm")),a.classList.add("no-blink"),t.ready(e,s))}),t.add(r)})(jQuery,(window,wb));