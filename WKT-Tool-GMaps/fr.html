<!DOCTYPE html>
<!--[if lt IE 9]><html class="no-js lt-ie9" lang="en" dir="ltr"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" dir="ltr"><!--<![endif]-->

<head>
	<!-- Based on CDTS 4.1.0 (https://cenw-wscoe.github.io/sgdc-cdts/docs/index-en.html) with DECoE customizations added (look for "DECoE customization" in comments) -->
	<meta charset="utf-8">

	<!-- Start DECoE customization -->
	<title>
		WKT tool - Innovation, Science and Economic Development Canada
	</title>
	<!-- End DECoE customization -->

	<meta content="width=device-width,initial-scale=1" name="viewport">
	<script src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_1_0/cdts/compiled/soyutils.js"></script>
	<script src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_1_0/cdts/compiled/wet-en.js"></script>
	<noscript>
		<!-- Write closure fall-back static file -->
		<!-- refTop.html -->
	</noscript>
	<!-- Write closure template -->
	<script>
		document.write(wet.builder.refTop({
			"cdnEnv": "esdcprod"
		}));
	</script>

	<!-- Start DECoE customization -->
	<script type="module" src="./maps.js"></script>

	<script>
		const baseQuery = window.location.search
		var urlQueries = baseQuery
	</script>

	<style>
		/* Styles for all mockups */
		.notesaboutmockup {
			color: #333;
			background: #FFD;
			padding: 0 1em;
			border-color: #FC6;
			border-width: 2px;
			border-style: solid;
			margin-top: 3em;
		}

		.notesaboutmockup h2 {
			font-size: inherit;
			margin-top: 1em;
		}

		/* Styles for this mockup */
		#map {
			border: 1px solid black;
			height: 40em;
			margin-bottom: 2em;
		}

		#WKT {
			width: 100%;
		}

		@media (min-width: 768px) {
			.dl-horizontal dt {
				width: 15em;
			}
		}

		.highlight {
			background-color: yellow;
		}

		.margin-top,
		#map-instructions {
			margin-top: 38px;
		}

		.text-on-map {
			background: white;
			border-radius: 4px;
			outline: 2px solid rgba(0, 0, 0, 0.2);
			padding: 8px;
		}

		html {
			scroll-behavior: smooth;
		}

		#map .leaflet-draw-draw-polygon {
			background-image: url('images/draw.svg') !important;
			background-position: 50%;
			background-size: 60%;
			width: 5em;
			height: 5em;

		}
	</style>
	<link href="fix-wet-styles.css" rel="stylesheet" type="text/css">
	<link href="button-style.css" rel="stylesheet" type="text/css">
	<link href="https://sms-sgs.ic.gc.ca/static/css/wizard.css" rel="stylesheet" type="text/css">
	<link href="NCL-portal.css" rel="stylesheet" type="text/css">
	<!-- End DECoE customization -->

</head>

<body vocab="http://schema.org/" typeof="WebPage">
	<div id="def-top">
		<!-- Write closure fall-back static file -->
		<!-- transactTop-en.html -->
	</div>
	<!-- Write closure template -->
	<script>
		var defTop = document.getElementById("def-top");
		defTop.outerHTML = wet.builder.top({
			"cdnEnv": "esdcprod",
			"lngLinks": [{
				"lang": "en",
				"href": "index.html",
				"text": "English"
			}],
			"search": false,
			"siteMenu": false,

			"showPreContent": false
		});
	</script>

	<script>
		function copy() {

			let output = document.getElementById("WKT");
			navigator.clipboard.writeText(output.textContent)
			document.getElementById("copied-alert").removeAttribute("hidden")
		}

		// I am sure that there is a better, more efficient way of doing this...
		document.addEventListener("click", (evt) => {
			if (evt.target != document.getElementById("copy-button")) {
				document.getElementById("copied-alert").setAttribute("hidden", "hidden");
			}
		});
	</script>

	<main property="mainContentOfPage" typeof="WebPageElement" class="container">

		<!-- Start page content -->

		<div class="wb-frmvld">

			<div class="wb-frm">
				<div class="container">

					<h1 property="name" id="wb-cont">Zones de licence dans le format WKT (Well Known Text)</h1>
					<p>
						Vous pouvez dessiner une zone de licence, avec jusqu'à 12 points de délimitation, sur la carte
						interactive ci-dessous.
						Une fois la zone de licence définie, vous pouvez copier les coordonnées au format WKT dans votre
						presse-papiers.
					</p>

					<div class="row">
						<details id="map-instructions">
							<summary>Comment utiliser la carte intéractive</summary>
							<p>Pour naviguer la carte:</p>

							<ul>
								<li>Cliquez et glisser pour bouger la carte</li>
								<li>Zoom:</li>
								<ul>
									<li>Double-clique</li>
									<li>Défiler</li>
									<li>Cliquez les icons de zoom en bas à gauche./li>
								</ul>
							</ul>
							<p>Pour dessiner:</p>
							<ol>
								<li>Naviguer à votre position</li>
								<li>Cliquez sur le boutton de dessin de dessin.
									<img src="src/images/draw_fr.svg" alt="Draw Tool">
								</li>
								<li>Cliquez sur la carte pour ajouter des points. Ces dernières sont connecté avec les
									lignes droites.</li>
								<li>Fermez votre zone de licence:</li>
								<ul>
									<li>Cliquez le premier points</li>
									<li>Cliquez le boutton Finir à côté du boutton de dessin</li>
								</ul>
								<li>Modifier votre zone de licence:</li>
								<ul>
									<li>Glissez les points blanc pour les déplacer</li>
									<li>Glissez les points translucide pour ajouter des points.</li>
								</ul>
							</ol>
						</details>
						<div id="map"></div>
						<script
							src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBtgL6wcFCT53e77HPUQnTBZRsDUKIafwE&callback=initMap&language=fr-CA&libraries=drawing&v=weekly"
							defer></script>
					</div>

					<div class="form-group margin-top">

						<div class="alert alert-info" id="size-alert" hidden="hidden">
							<p id="alert-text">Erreur</p>
						</div>

						<div id="wkt-output" hidden="true">
							<label for="WKT">
								<span class="field-name" id="wkt-input">
									Zone de licence en format WKT (Well Known Text)
								</span>
							</label>
							<output type="text" id="WKT" name="WKT" class="form-control"></output>
							<button class="btn btn-primary" type="button" id="copy-button" onClick="copy()">Copier le WKT</button>

						</div>

						<div class="alert alert-success" id="copied-alert" hidden="true">
							<p>Le WKT a été copié</p>
						</div>


					</div>
				</div>

			</div>
		</div>
		</div>

		<!-- End page content -->

		<div id="def-preFooter">
			<!-- Write closure fall-back static file -->
			<!-- preFooter-en.html -->
		</div>
		<!-- Write closure template -->
		<script>
			var defPreFooter = document.getElementById("def-preFooter");
			defPreFooter.outerHTML = wet.builder.preFooter({
				"cdnEnv": "esdcprod",
				"versionIdentifier": "CD56",
				"showPostContent": false,
				"showFeedback": false,
				"showShare": false
			});
		</script>
	</main>
	<div id="def-footer">
		<!-- Write closure fall-back static file -->
		<!-- transactFooter-en.html -->
	</div>
	<!-- Write closure template -->
	<script>
		var defFooter = document.getElementById("def-footer");
		defFooter.outerHTML = wet.builder.footer({
			"cdnEnv": "esdcprod",
			"showFooter": false,
			"showFeatures": false,
			"termsLink": [{
				"newWindow": true,
				"text": "Avis"
			}],
			"privacyLink": [{
				"newWindow": true,
				"text": "Confidentialité"
			}],
			"contextualFooter": {
				"title": "Spectrum and Telecommunications Sector",
				"links": [{
					"text": "Contactez-nous",
					"href": "https://ised-isde.canada.ca/site/spectrum-management-telecommunications/en/licences-and-certificates/radiocom-information-circulars-ric/ric-66-addresses-and-telephone-numbers-district-offices",
					"newWindow": true
				}]
			}
		});
	</script>
	<!-- Write closure template -->
	<script>
		document.write(wet.builder.refFooter({
			"cdnEnv": "esdcprod"
		}));
	</script>



</html>