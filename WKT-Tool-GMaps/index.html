<!DOCTYPE html>
<!--[if lt IE 9]><html class="no-js lt-ie9" lang="en" dir="ltr"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" dir="ltr"><!--<![endif]-->

<head>
	<!-- Based on CDTS 4.1.0 (https://cenw-wscoe.github.io/sgdc-cdts/docs/index-en.html) with DECoE customizations added (look for "DECoE customization" in comments) -->
	<meta charset="utf-8">

	<!-- Start DECoE customization -->
	<title>
		WKT tool - Innovation, Science and Economic Development Canada
	</title>
	<!-- End DECoE customization -->

	<meta content="width=device-width,initial-scale=1" name="viewport">
	<script src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_1_0/cdts/compiled/soyutils.js"></script>
	<script src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_1_0/cdts/compiled/wet-en.js"></script>
	<noscript>
		<!-- Write closure fall-back static file -->
		<!-- refTop.html -->
	</noscript>
	<!-- Write closure template -->
	<script>
		document.write(wet.builder.refTop({
			"cdnEnv": "esdcprod"
		}));
	</script>

	<!-- Start DECoE customization -->
	<meta name="language" lang="en"/>
	<script type="module" src="./maps.js"></script>

	<style>
		#map {
			border: 1px solid black;
			height: 40em;
			margin-bottom: 2em;
		}

		@media (min-width: 768px) {
			.dl-horizontal dt {
				width: 15em;
			}
		}

		.margin-top,
		#map-instructions {
			margin-top: 38px;
		}

		html {
			scroll-behavior: smooth;
		}
	</style>
	<link href="fix-wet-styles.css" rel="stylesheet" type="text/css">
	<link href="button-style.css" rel="stylesheet" type="text/css">
	<link href="https://sms-sgs.ic.gc.ca/static/css/wizard.css" rel="stylesheet" type="text/css">
	<link href="NCL-portal.css" rel="stylesheet" type="text/css">
	<!-- End DECoE customization -->

</head>

<body vocab="http://schema.org/" typeof="WebPage">
	<div id="def-top">
		<!-- Write closure fall-back static file -->
		<!-- transactTop-en.html -->
	</div>
	<!-- Write closure template -->
	<script>
		var defTop = document.getElementById("def-top");
		defTop.outerHTML = wet.builder.top({
			"cdnEnv": "esdcprod",
			"lngLinks": [{
				"lang": "fr",
				"href": "fr.html",
				"text": "Fran√ßais"
			}],
			"search": false,
			"siteMenu": false,

			"showPreContent": false
		});
	</script>

	<script>
		function copy() {

			let output = document.getElementById("WKT");
			navigator.clipboard.writeText(output.textContent)
			document.getElementById("copied-alert").removeAttribute("hidden")
		}

		// I am sure that there is a better, more efficient way of doing this...
		document.addEventListener("click", (evt) => {
			if (evt.target != document.getElementById("copy-button")) {
				document.getElementById("copied-alert").setAttribute("hidden", "hidden");
			}
		});
	</script>

	<main property="mainContentOfPage" typeof="WebPageElement" class="container">

		<!-- Start page content -->

		<div class="wb-frmvld">

			<div class="wb-frm">
				<div class="container">

					<h1 property="name" id="wb-cont">Licence area in WKT (Well Known Text) format</h1>
					<p>
						You may draw a licence area, with up to 12 boundary points on the interactive map below.
						Once a licence area is defined, you may copy the coordinates in WKT format to your clipboard.
					</p>

					<div class="row">
						<details id="map-instructions">
							<summary>How to use the interactive map</summary>
							<p>To navigate the map:</p>

							<ul>
								<li>Click and drag to move the map</li>
								<li>Zoom in:</li>
								<ul>
									<li>Double click</li>
									<li>Scroll</li>
									<li>Click the zoom icons on the bottom right</li>
								</ul>
							</ul>
							<p>To draw:</p>
							<ol>
								<li>Navigate to your location</li>
								<li>Click the draw tool
									<img src="images/draw.svg" alt="Draw Tool">
								</li>
								<li>Click on the map to add points. These are connected by straight lines.</li>
								<li>Close your boundary:</li>
								<ul>
									<li>Click the first point</li>
									<li>Click the finish button next to the draw icon</li>
								</ul>
								<li>Edit your boundary:</li>
								<ul>
									<li>Drag the white points to move them</li>
									<li>Drag the translucent points to add new points</li>
								</ul>
							</ol>
						</details>
						<div id="map"></div>
						<script

							src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBtgL6wcFCT53e77HPUQnTBZRsDUKIafwE&callback=initMap&libraries=drawing&v=weekly"
							defer></script>
					</div>

					<div class="form-group margin-top">

						<div class="alert alert-info" id="size-alert" hidden="hidden">
							<p id="alert-text"> test The area is between 75 km<sup>2</sup> and 165 km<sup>2</sup>. It can only be used with
								<b>medium power</b>.</sup></p>
						</div>

						<div id="wkt-output" hidden="true">
							<label for="WKT">
								<span class="field-name" id="wkt-input">
									Licence area in WKT (Well Known Text) format
								</span>
							</label>
							<output type="text" id="WKT" name="WKT" class="form-control"></output>
							<button class="btn btn-primary" type="button" id="copy-button" onClick="copy()">Copy
								WKT</button>

						</div>

						<div class="alert alert-success" id="copied-alert" hidden="true">
							<p>WKT Copied</p>
						</div>


					</div>
				</div>

			</div>
		</div>
		</div>

		<!-- End page content -->

		<div id="def-preFooter">
			<!-- Write closure fall-back static file -->
			<!-- preFooter-en.html -->
		</div>
		<!-- Write closure template -->
		<script>
			var defPreFooter = document.getElementById("def-preFooter");
			defPreFooter.outerHTML = wet.builder.preFooter({
				"cdnEnv": "esdcprod",
				"versionIdentifier": "CD56",
				"showPostContent": false,
				"showFeedback": false,
				"showShare": false
			});
		</script>
	</main>
	<div id="def-footer">
		<!-- Write closure fall-back static file -->
		<!-- transactFooter-en.html -->
	</div>
	<!-- Write closure template -->
	<script>
		var defFooter = document.getElementById("def-footer");
		defFooter.outerHTML = wet.builder.footer({
			"cdnEnv": "esdcprod",
			"showFooter": false,
			"showFeatures": false,
			"termsLink": [{
				"newWindow": true
			}],
			"privacyLink": [{
				"newWindow": true
			}],
		});
	</script>
	<!-- Write closure template -->
	<script>
		document.write(wet.builder.refFooter({
			"cdnEnv": "esdcprod"
		}));
	</script>

	

</html>